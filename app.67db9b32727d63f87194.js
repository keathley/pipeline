webpackJsonp([1],{0:function(module,exports,__webpack_require__){eval("'use strict';\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _componentsApp = __webpack_require__(104);\n\nvar _componentsApp2 = _interopRequireDefault(_componentsApp);\n\nvar _componentsTalks = __webpack_require__(105);\n\nvar _componentsTalks2 = _interopRequireDefault(_componentsTalks);\n\nvar React = __webpack_require__(9),\n    Router = __webpack_require__(45);\n\n__webpack_require__(108);\n\nvar routes = React.createElement(\n  Router.Route,\n  { name: 'app', path: '/', handler: _componentsApp2['default'] },\n  React.createElement(Router.DefaultRoute, { handler: _componentsTalks2['default'] })\n);\n\nRouter.run(routes, Router.HistoryLocation, function (Handler) {\n  React.render(React.createElement(Handler, null), document.body);\n});\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/index.jsx\n ** module id = 0\n ** module chunks = 1\n **/\n//# sourceURL=webpack:///./app/index.jsx?")},104:function(module,exports,__webpack_require__){eval("'use strict';\n\nvar React = __webpack_require__(9),\n    Router = __webpack_require__(45);\n\n__webpack_require__(106);\n\nvar App = React.createClass({\n  displayName: 'App',\n\n  render: function render() {\n    return React.createElement(\n      'main',\n      { className: 'app' },\n      React.createElement(Router.RouteHandler, this.props)\n    );\n  }\n});\n\nmodule.exports = App;\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/components/App.jsx\n ** module id = 104\n ** module chunks = 1\n **/\n//# sourceURL=webpack:///./app/components/App.jsx?")},105:function(module,exports,__webpack_require__){eval("'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _react = __webpack_require__(9);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reqwest = __webpack_require__(103);\n\nvar _reqwest2 = _interopRequireDefault(_reqwest);\n\n__webpack_require__(107);\n\nvar URL = 'http://chadevapi.herokuapp.com/lunches';\n\nvar Talks = _react2['default'].createClass({\n  displayName: 'Talks',\n\n  getInitialState: function getInitialState() {\n    return { lunches: [] };\n  },\n\n  componentDidMount: function componentDidMount() {\n    (0, _reqwest2['default'])({\n      method: 'GET',\n      url: URL,\n      crossOrigin: true,\n      success: this.handleSuccess,\n      error: this.handeError\n    });\n  },\n\n  handleSuccess: function handleSuccess(resp) {\n    this.setState({ lunches: resp });\n  },\n\n  handleError: function handleError(resp) {\n    console.error(resp);\n  },\n\n  daysTill: function daysTill() {\n    var today = new Date(),\n        thursday = 4,\n        day = today.getDay(),\n        date = today.getDate(),\n        daysTillThurs = thursday - day,\n        daysTill = daysTillThurs + 7,\n        nextThursday = date + daysTillThurs,\n        dates = this.state.lunches.map(function (lunch) {\n      return new Date(lunch.time);\n    });\n\n    if (dates[0] && nextThursday != dates[0].getDate()) return daysTillThurs;\n\n    var gaps = dates.map(function (lunch, i, arr) {\n      if (i == arr.length - 1) return false;\n\n      var now = lunch.getTime(),\n          next = arr[i + 1].getTime(),\n          diff = Math.abs(next - now),\n          days = Math.ceil(diff / (1000 * 3600 * 24));\n\n      return days <= 8;\n    });\n\n    for (var i = 0; i < gaps.length; i++) {\n      if (!gaps[i]) break;\n\n      daysTill += 7;\n    }\n\n    return daysTill;\n  },\n\n  render: function render() {\n    var daysTill = this.daysTill();\n\n    return _react2['default'].createElement(\n      'div',\n      { className: 'talks' },\n      _react2['default'].createElement(\n        'h2',\n        null,\n        'You have'\n      ),\n      _react2['default'].createElement(\n        'h1',\n        { className: 'days' },\n        _react2['default'].createElement(\n          'span',\n          { className: 'arrow' },\n          '→'\n        ),\n        daysTill,\n        _react2['default'].createElement(\n          'span',\n          { className: 'arrow' },\n          '←'\n        )\n      ),\n      _react2['default'].createElement(\n        'h2',\n        null,\n        'days to find a speaker'\n      )\n    );\n  }\n});\n\nexports['default'] = Talks;\nmodule.exports = exports['default'];\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/components/Talks.jsx\n ** module id = 105\n ** module chunks = 1\n **/\n//# sourceURL=webpack:///./app/components/Talks.jsx?")},106:function(module,exports){eval("// removed by extract-text-webpack-plugin\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/styles/components/app.css\n ** module id = 106\n ** module chunks = 1\n **/\n//# sourceURL=webpack:///./app/styles/components/app.css?")},107:106,108:106});